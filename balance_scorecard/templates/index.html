{% extends 'base.html' %}

{% block content %}

  {% include "_modal.html" %}
  

            {% if not user.is_anonymous and not user.is_staff%}
<!-----------------------------------------------------------------  Usuario  ----------------------------------------------------->
<!--                                                                 Barra Lateral                                                     -->  
{% include "_header.html" %}
  <div class="container">
    <a class="navbar-brand"><h2>Horcones 2</h2></a>
    <div class="area"></div>
    <nav class="main-menu">
            <ul>
                <li>
                    <a href="{% url 'index' %}">
                        <i class="fa fa-home fa-2x"></i>
                        <span class="nav-text">
                            Inicio
                        </span>
                    </a>
                </li>
               
              </ul>
              <ul class="logout">
                <li>
                   <a href="{% url 'logout' %}">
                         <i class="fa fa-power-off fa-2x"></i>
                        <span class="nav-text">
                            Cerrar Sesión
                        </span>
                    </a>
                </li>  

            </ul>
        </nav>

 <!--                                                                Contenido                                                           -->

      <div class="col-12 mb-3">
        <button class="crear-indicador btn btn-primary" type="button" name="button">
          <span class="fa fa-plus mr-2"></span>Crear Indicador</button>
      </div>
                  {% if indicador %}
                    <table class="table table-bordered table-striped">
                      <thead>
                        <tr>
                          <th class="text-center" scope="col">Codigo</th>
                          <th class="text-center" scope="col">Nombre Indicador</th>
                          <th class="text-center" scope="col">Meta</th>
                          <th class="text-center" scope="col">Descripcion</th>
                          <th class="text-center" scope="col">Detalle / Actualizar / Eliminar</th>
                          <th class="text-center" scope="col">Añadir Valor</th>
                          <th class="text-center" scope="col">Informacion</th>
                        </tr>
                      </thead>
                      <tbody>
                        {% for i in indicador %}
                          <tr>
                            <th class="text-center" scope="row">{{ i.id }}</th>
                            <td class="text-center">{{ i.nombre_kpi }}</td>
                            <td class="text-center">{{ i.meta_kpi }}</td>
                            <td class="text-center">{{ i.descripcion_kpi }}</td>
                            <td class="text-center">
                              <button type="button" class="read-book btn btn-sm btn-primary" data-id="{% url 'detalle' i.pk %}">
                                <span class="fa fa-eye"></span>
                              </button>
                              <button type="button" class="update-book btn btn-sm btn-primary" data-id="{% url 'actualizar' i.pk %}">
                                <span class="fa fa-pencil"></span>
                              </button>
                              <button type="button" class="delete-book btn btn-sm btn-danger" data-id="{% url 'eliminar' i.pk %}">
                                <span class="fa fa-trash"></span>
                              </button>
                            </td>
                            <td class="text-center">
                              <button type="button" class="valor-kpi btn btn-sm btn-sm" data-id="{% url 'crear_info' i.pk %}">
                                <span class="fa fa-plus"></span>
                              </button>
                            </td>
                            <td class="text-center">
                                <a class="btn btn-sm" href="{% url 'home' i.pk %}"><span class="fa fa-eye"></span></a>
                            </td>
                          </tr>
                        {% endfor %}
                      </tbody>
                    </table>
                    
                  {% else %}
                    <p class="no-books text-primary">No hay Indicadores creados</p>
                  {% endif %}
                </div>
              </div>
            </div>
          </div>
        </div>
            {% else %}

            {% if not user.is_anonymous and user.is_staff and not user.is_superuser %}
<!-----------------------------------------------------------------  Gerente  ----------------------------------------------------->
<!--                                                                 Barra Lateral                                                     -->  
{% include "_header.html" %}
<div class="container">
    <a class="navbar-brand"><h2>Horcones 2</h2></a>
    <div class="area"></div>
    <nav class="main-menu">
            <ul>
                <li>
                    <a href="{% url 'index' %}">
                        <i class="fa fa-home fa-2x"></i>
                        <span class="nav-text">
                            Inicio
                        </span>
                    </a>
                </li>
                <li>
                  <a href="{% url 'lista_incidentes' %}">
                    <i class="fa fa-list fa-2x"></i>
                    <span class="nav-text">
                      Lista de Incidentes
                    </span>
                </li>
                <li>
                  <a href="{% url 'lista_reunion' %}">
                    <i class="fa fa-list fa-2x"></i>
                    <span class="nav-text">
                      Lista Reuniones
                    </span>
                </li>
                <li>
                  <a href="{% url 'lista_compromisos' %}">
                    <i class="fa fa-list fa-2x"></i>
                    <span class="nav-text">
                      Lista Compromisos
                    </span>
                </li>
              </ul>
              <ul class="logout">
                <li>
                  <a href="{% url 'reporte_indicadores' %}">
                    <i class="fa fa-info fa-2x"></i>
                    <span class="nav-text">
                      Reporte Indicadores
                    </span>
                </li>
                <li>
                   <a href="{% url 'logout' %}">
                         <i class="fa fa-power-off fa-2x"></i>
                        <span class="nav-text">
                            Cerrar Sesión
                        </span>
                    </a>
                </li>  

            </ul>
        </nav>

 <!--                                                                Contenido                                                           -->
  <div class="row">
        <div class="row">
          <div class="col-12 mb-3">            
            <div class="col-12 mb-3">
                <div class="row">
                  <div class="col-xl-3 col-sm-6 mb-3">
                    <div class="card text-white bg-primary o-hidden h-100">
                      <div class="card-body">
                        <div class="card-body-icon">
                          <i class="fas fa-fw fa-shopping-cart"></i>
                        </div>
                        <div class="mr-5">Indicadores Financieros</div>
                      </div>
                      <a class="card-footer text-white clearfix small z-1" href="{% url 'balancedscorecard' 1 %}">
                        <span class="float-left">Detalle</span>
                        <span class="float-right">
                          <i class="fas fa-angle-right"></i>
                        </span>
                      </a>
                    </div>
                  </div>
                  <div class="col-xl-3 col-sm-6 mb-3">
                    <div class="card text-white bg-warning o-hidden h-100">
                      <div class="card-body">
                        <div class="card-body-icon">
                          <i class="fas fa-fw fa-comments"></i>
                        </div>
                        <div class="mr-5">Clientes</div>
                      </div>
                      <a class="card-footer text-white clearfix small z-1" href="{% url 'balancedscorecard' 2 %}">
                        <span class="float-left">Detalle</span>
                        <span class="float-right">
                          <i class="fas fa-angle-right"></i>
                        </span>
                      </a>
                    </div>
                  </div>
                  <div class="col-xl-3 col-sm-6 mb-3">
                    <div class="card text-white bg-success o-hidden h-100">
                      <div class="card-body">
                        <div class="card-body-icon">
                          <i class="fas fa-fw fa-list"></i>
                        </div>
                        <div class="mr-5">Procesos Internos</div>
                      </div>
                      <a class="card-footer text-white clearfix small z-1" href="{% url 'balancedscorecard' 3 %}">
                        <span class="float-left">Detalle</span>
                        <span class="float-right">
                          <i class="fas fa-angle-right"></i>
                        </span>
                      </a>
                    </div>
                  </div>
                  <div class="col-xl-3 col-sm-6 mb-3">
                    <div class="card text-white bg-danger o-hidden h-100">
                      <div class="card-body">
                        <div class="card-body-icon">
                          <i class="fas fa-fw fa-life-ring"></i>
                        </div>
                        <div class="mr-5">Indicadores Aprendizaje y crecimiento</div>
                      </div>
                      <a class="card-footer text-white clearfix small z-1" href="{% url 'balancedscorecard' 4 %}">
                        <span class="float-left">Detalle</span>
                        <span class="float-right">
                          <i class="fas fa-angle-right"></i>
                        </span>
                      </a>
                    </div>
                  </div>
                </div>
              </div>
          </div>
        </div>
      </div>
          {% else %}
          {% if not user.is_anonymous and user.is_staff and user.is_superuser %}
<!-----------------------------------------------------------------  Administrador  ----------------------------------------------------->
<!--                                                                 Barra Lateral                                                     -->  
{% include "_header.html" %}
<div class="container">
    <a class="navbar-brand"><h2>Horcones 2</h2></a>
    <div class="area"></div><nav class="main-menu">
            <ul>
                <li>
                    <a href="#">
                        <i class="fa fa-home fa-2x"></i>
                        <span class="nav-text">
                            Inicio
                        </span>
                    </a>
                </li>
                <!--
                <li class="has-subnav">
                    <a href="#">
                        <i class="fa fa-laptop fa-2x"></i>
                        <span class="nav-text">
                            Stars Components
                        </span>
                    </a>
                    
                </li>
                <li class="has-subnav">
                    <a href="#">
                       <i class="fa fa-list fa-2x"></i>
                        <span class="nav-text">
                            Forms
                        </span>
                    </a>
                    
                </li>
                <li class="has-subnav">
                    <a href="#">
                       <i class="fa fa-folder-open fa-2x"></i>
                        <span class="nav-text">
                            Pages
                        </span>
                    </a>
                </li> 
                <li>
                    <a href="#">
                        <i class="fa fa-font fa-2x"></i>
                        <span class="nav-text">
                           Quotes
                        </span>
                    </a>
                </li>
                <li>
                   <a href="#">
                       <i class="fa fa-table fa-2x"></i>
                        <span class="nav-text">
                            Tables
                        </span>
                    </a>
                </li>
                <li>
                   <a href="#">
                        <i class="fa fa-map-marker fa-2x"></i>
                        <span class="nav-text">
                            Maps
                        </span>
                    </a>
                </li>
                <li>
                    <a href="#">
                       <i class="fa fa-info fa-2x"></i>
                        <span class="nav-text">
                            Documentation
                        </span>
                    </a>
                </li>
                
                -->        
                
                <li>
                  <a href="{% url 'lista_incidentes' %}">
                    <i class="fa fa-list fa-2x"></i>
                    <span class="nav-text">
                      Lista de Incidentes
                    </span>
                </li>
                <li>
                  <a href="{% url 'lista_reunion' %}">
                    <i class="fa fa-list fa-2x"></i>
                    <span class="nav-text">
                      Lista Reuniones
                    </span>
                </li>
                <li>
                  <a href="{% url 'lista_compromisos' %}">
                    <i class="fa fa-list fa-2x"></i>
                    <span class="nav-text">
                      Lista Compromisos
                    </span>
                </li>
                <li>
                  <a href="{% url 'balancedscorecard' 1 %}">
                    <i class="fa fa-table fa-2x"></i>
                    <span class="nav-text">
                      Indicadores Financieros
                    </span>
                </li>
                <li>
                  <a href="{% url 'balancedscorecard' 2 %}">
                    <i class="fa fa-table fa-2x"></i>
                    <span class="nav-text">
                      Indicadores Clientes
                    </span>
                </li>
                <li>
                  <a href="{% url 'balancedscorecard' 3 %}">
                    <i class="fa fa-table fa-2x"></i>
                    <span class="nav-text">
                      Indicadores Procesos internos
                    </span>
                </li>
                <li>
                  <a href="{% url 'balancedscorecard' 4 %}">
                    <i class="fa fa-table fa-2x"></i>
                    <span class="nav-text">
                      Indicadores Aprendizaje y crecimiento
                    </span>
                </li>
                </ul>
              <ul class="logout">
                <li>
                  <a href="{% url 'reporte_indicadores' %}">
                    <i class="fa fa-info fa-2x"></i>
                    <span class="nav-text">
                      Reporte Indicadores
                    </span>
                </li>
                <li>
                   <a href="{% url 'logout' %}">
                         <i class="fa fa-power-off fa-2x"></i>
                        <span class="nav-text">
                            Cerrar Sesión
                        </span>
                    </a>
                </li>  
              </ul>
        </nav>
<!--                                                                Contenido                                                           -->
  <div class="row">
  </div>
  <div class="container mt-3">
    <div class="row">
      <div class="col">
        <div class="row">
          <span><h5>
            Has Iniciado Sesion Con perfil administrador: 
            <strong>{{ user }}</strong></h5>
          </span>
              <div>
                <table>
                  <thead>
                    <tr>
                      <th>
                        <div class="col-12 mb-3">
                        <button class="crear-incidente btn btn-primary" type="button" name="button"></i>
                          <span class="fa fa-plus mr-2"></span>Crear Incidente</button>
                        </div>
                      </th>
                      <th>
                        <div class="col-12 mb-3">
                        <button class="crear-indicador btn btn-primary" type="button" name="button">
                          <span class="fa fa-plus mr-2"></span>Crear Indicador</button>
                      </div>
                      </th>
                      <th>
                        <div class="col-12 mb-3">
                        <button class="crear-compromiso btn btn-primary" type="button" name="button">
                          <span class="fa fa-plus mr-2"></span>Crear Compromiso</button>
                      </div>
                      </th>
                      <th>
                        <div class="col-12 mb-3">
                        <button class="crear-reunion btn btn-primary" type="button" name="button">
                          <span class="fa fa-plus mr-2"></span>Crear Reunion</button>
                      </div>
                      </th>
                    </tr>
                  </thead>
                </table>
              </div>
          </div>
        </div>
        <div class="row">
          <div class="col-12 mb-3">
          <div class="row">
            <div class="col-12 mb-3">
          </div>
            <div class="col-12 mb-3">
              {% if indicador %}
                <table class="table">
                  <thead>
                    <tr>
                      <th class="text-center" scope="col">Codigo</th>
                      <th class="text-center" scope="col">Nombre Indicador</th>
                      <th class="text-center" scope="col">Meta</th>
                      <th class="text-center" scope="col">Descripcion</th>
                      <th class="text-center" scope="col">Detalle / Actualizar / Eliminar</th>
                      <th class="text-center" scope="col">Añadir Valor</th>
                      <th class="text-center" scope="col">Informacion</th>
                    </tr>
                  </thead>
                  <tbody>
                    {% for i in indicador %}
                      <tr>
                        <th class="text-center" scope="row">{{ i.id }}</th>
                        <td class="text-center">{{ i.nombre_kpi }}</td>
                        <td class="text-center">{{ i.meta_kpi }}</td>
                        <td class="text-center">{{ i.descripcion_kpi }}</td>
                        <td class="text-center">
                          <button type="button" class="read-book btn btn-sm btn-primary" data-id="{% url 'detalle' i.pk %}">
                            <span class="fa fa-eye"></span>
                          </button>
                          <button type="button" class="update-book btn btn-sm btn-primary" data-id="{% url 'actualizar' i.pk %}">
                            <span class="fa fa-pencil"></span>
                          </button>
                          <button type="button" class="delete-book btn btn-sm btn-danger" data-id="{% url 'eliminar' i.pk %}">
                            <span class="fa fa-trash"></span>
                          </button>
                        </td>
                        <td class="text-center">
                          <button type="button" class="valor-kpi btn btn-sm btn-sm" data-id="{% url 'crear_info' i.pk %}">
                            <span class="fa fa-plus"></span>
                          </button>
                        </td>
                        <td class="text-center">
                            <a class="btn btn-sm" href="{% url 'home' i.pk %}"><span class="fa fa-eye"></span></a>
                        </td>
                      </tr>
                    {% endfor %}
                  </tbody>
                </table>
              {% else %}
                <p class="no-books text-primary">No hay Indicadores creados</p>
              {% endif %}
            </div>
          </div>
        </div>
      </div>
    </div>
        {% else %}
        <style>

#contenedora{
  width: 740px;
  height: 975px;
  float: left;
  border-radius: 1em;
  margin: 0px;
}

#contenedoraa{
  position:center; 
  width: 345px;
  height: 250px;
  margin: 0.1em auto;
  padding: 0.1em;
  float: left;
  border-radius: 1em;
  margin: 10px;
  background-color: E7FAF6;
}
.cont {
  display: -webkit-box;
  display: -ms-flexbox;
  display: flex;
  -webkit-box-orient: vertical;
  -webkit-box-direction: normal;
  -ms-flex-direction: column;
  flex-direction: column;
  min-width: 0;
  word-wrap: break-word;
  background-color: #fff;
  background-clip: border-box;
  border: 1px solid rgba(0, 0, 0, 0.125);
  border-radius: 0.25rem;
}
.cont-inicio {
  max-width: 25rem;
}
.mx-auto {
  margin-right: auto !important;
}
.mt-5,
.my-5 {
  margin-top: 5rem !important;
}
        body {
    font-family: "Lato", sans-serif;
}



.main-head{
    height: 150px;
    background: #FFF;
   
}

.sidenav {
    height: 100%;
    background-color: #000;
    overflow-x: hidden;
    padding-top: 20px;
}


.main {
    padding: 0px 10px;
}

@media screen and (max-height: 450px) {
    .sidenav {padding-top: 15px;}
}

@media screen and (max-width: 450px) {
    .login-form{
        margin-top: 10%;
    }

    .register-form{
        margin-top: 10%;
    }
}

@media screen and (min-width: 768px){
    .main{
        margin-left: 40%; 
    }

    .sidenav{
        width: 40%;
        position: fixed;
        z-index: 1;
        top: 0;
        left: 0;
    }

    .login-form{
        margin-top: 80%;
    }

    .register-form{
        margin-top: 20%;
    }
}
.h7{
  background-color: #FFF;
}
</style>
    <div class="sidenav">
      <div class="login-main-text">
        <h1><p style="color:white;">Arauco <br> Horcones 2</h1></p>
        </br>
        <h4><p style="color:white;">Pestaña diseñada para el acceso de usuarios y registro de estos.</p></h4>
      </div>
    </div>
      <div class="main">
        <div class="col-md-6 col-sm-12">
          <div class="contenedor">
            <div class="login-form" >
              <div class="form-group" >
                <table width="500px">
                  <tr>
                    <th><label>Login de Usuario</label></th>
                    <td width="100px"><button class="login-btn btn btn-primary" type="button" name="button">Formulario de Inicio Sesión</button></td>
                  </tr>
                </table>
              </div>
              <div class="form-group">
                <table width="500px">
                  <tr>
                    <th><label>Registrate</label></th>
                    <td width="100px"><button class="signup-btn btn btn-primary" type="button" name="button">Formulario de Registro</button></td>
                  </tr>
                </table>                 
              </div>
            </div>
          </div>
        </div>
      </div>
        
        
        {% endif %}
          {% endif %}
        </div>
            {% endif %}
        </div>
        

{% endblock content %}

{% block extrascripts %}
  <script type="text/javascript">
    $(function () {
      // Log in & Sign up buttons
      $(".login-btn").modalForm({formURL: "{% url 'login' %}"});
      $(".signup-btn").modalForm({formURL: "{% url 'registro' %}"});

      // Create book button
      $(".crear-indicador").modalForm({formURL: "{% url 'crear' %}"});
      $(".crear-incidente").modalForm({formURL: "{% url 'registro_incidentes' %}"});
      $(".crear-compromiso").modalForm({formURL: "{% url 'registro_compromiso' %}"});
      $(".crear-reunion").modalForm({formURL: "{% url 'registro_reunion' %}"});


       // Añadir valor kpi
       $(".valor-kpi").each(function () {
        $(this).modalForm({formURL: $(this).data('id')});
      });

      // Informacion KPI
      $(".detalle-kpi").each(function () {
        $(this).modalForm({formURL: $(this).data('id')});
      });

      // Update book buttons
      $(".update-book").each(function () {
        $(this).modalForm({formURL: $(this).data('id')});
      });

      // Read book buttons
      $(".read-book").each(function () {
        $(this).modalForm({formURL: $(this).data('id')});
      });

      // Delete book buttons
      $(".delete-book").each(function () {
        $(this).modalForm({formURL: $(this).data('id')});
      })

      // Hide message
      $(".alert").fadeTo(2000, 500).slideUp(500, function(){
        $(".alert").slideUp(500);
      });

    });
  </script>

  

  <style>
  @import url(//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css);
  @import url(https://fonts.googleapis.com/css?family=Titillium+Web:300);
.fa-2x {
font-size: 2em;
}
.fa {
position: relative;
display: table-cell;
width: 60px;
height: 36px;
text-align: center;
vertical-align: middle;
font-size:20px;
}


.main-menu:hover,nav.main-menu.expanded {
width:250px;
overflow:visible;
}

.main-menu {
background:#212121;
border-right:1px solid #e5e5e5;
position:fixed;
top:0;
bottom:0;
height: auto;
left:0;
width:60px;
overflow:hidden;
-webkit-transition:width .05s linear;
transition:width .05s linear;
-webkit-transform:translateZ(0) scale(1,1);
z-index:1000;
}

.main-menu>ul {
margin:7px 0;
}

.main-menu li {
position:relative;
display:block;
width:250px;
}

.main-menu li>a {
position:relative;
display:table;
border-collapse:collapse;
border-spacing:0;
color:#999;
 font-family: arial;
font-size: 14px;
text-decoration:none;
-webkit-transform:translateZ(0) scale(1,1);
-webkit-transition:all .1s linear;
transition:all .1s linear;
  
}

.main-menu .nav-icon {
position:relative;
display:table-cell;
width:60px;
height:36px;
text-align:center;
vertical-align:middle;
font-size:18px;
}

.main-menu .nav-text {
position:relative;
display:table-cell;
vertical-align:middle;
width:190px;
  font-family: 'Titillium Web', sans-serif;
}

.main-menu>ul.logout {
position:absolute;
left:0;
bottom:0;
}

.no-touch .scrollable.hover {
overflow-y:hidden;
}

.no-touch .scrollable.hover:hover {
overflow-y:auto;
overflow:visible;
}

a:hover,a:focus {
text-decoration:none;
}

nav {
-webkit-user-select:none;
-moz-user-select:none;
-ms-user-select:none;
-o-user-select:none;
user-select:none;
}

nav ul,nav li {
outline:0;
margin:0;
padding:0;
}
.main-menu li:hover>a,nav.main-menu li.active>a,.dropdown-menu>li>a:hover,.dropdown-menu>li>a:focus,.dropdown-menu>.active>a,.dropdown-menu>.active>a:hover,.dropdown-menu>.active>a:focus,.no-touch .dashboard-page nav.dashboard-menu ul li:hover a,.dashboard-page nav.dashboard-menu ul li.active a {
color:#fff;
background-color:#5fa2db;
}
.area {
float: left;
background: #e2e2e2;
width: 100%;
height: 100%;
}
@font-face {
  font-family: 'Titillium Web';
  font-style: normal;
  font-weight: 300;
  src: local('Titillium WebLight'), local('TitilliumWeb-Light'), url(http://themes.googleusercontent.com/static/fonts/titilliumweb/v2/anMUvcNT0H1YN4FII8wpr24bNCNEoFTpS2BTjF6FB5E.woff) format('woff');
}
  </style>
{% endblock extrascripts %}